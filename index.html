<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Mapa GTA V - Galeria Pública</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body { margin: 0; padding: 0; background: #000; font-family: 'Segoe UI', Tahoma, sans-serif; display: flex; }
        
        #sidebar {
            width: 250px;
            height: 100vh;
            background: #111;
            color: white;
            border-right: 2px solid #333;
            display: flex;
            flex-direction: column;
            z-index: 2000;
        }

        #sidebar h2 {
            padding: 20px; margin: 0;
            background: #1a1a1a;
            font-size: 18px;
            border-bottom: 1px solid #333;
            text-align: center;
            color: #ffcc00;
        }

        #itens-container { flex-grow: 1; overflow-y: auto; padding: 10px; }

        .item-lista {
            display: flex; align-items: center; gap: 10px;
            background: rgba(255,255,255,0.05);
            padding: 10px; margin-bottom: 8px;
            border-radius: 5px; font-size: 14px;
            border-left: 4px solid var(--cor-ponto);
        }

        #map { flex-grow: 1; height: 100vh; background: #000; cursor: default; }

        .label-custom {
            background: rgba(0, 0, 0, 0.85);
            color: #fff; font-weight: bold;
            padding: 4px 10px; border-radius: 4px;
            border: 2px solid var(--cor-ponto);
            white-space: nowrap; text-transform: uppercase;
            box-shadow: 0 0 10px var(--cor-ponto);
            pointer-events: none; /* Impede interação com o texto */
        }
    </style>
</head>
<body>

    <div id="sidebar">
        <h2>LOCAIS MARCADOS</h2>
        <div id="itens-container"></div>
        <div style="padding: 15px; font-size: 11px; color: #888; text-align: center;">
            Modo Visualização (Somente Leitura)
        </div>
    </div>

    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        var map = L.map('map', { 
            crs: L.CRS.Simple, 
            minZoom: -1, 
            maxZoom: 3,
            attributionControl: false 
        });

        var bounds = [[0, 0], [1000, 1000]];
        // IMPORTANTE: Para outros verem, a imagem precisa estar na internet ou na mesma pasta que este arquivo
        L.imageOverlay('mapa.jpg', bounds).addTo(map);
        map.fitBounds(bounds);

        // SEUS DADOS FIXOS AQUI:
        var pontosFixos = [{"id":1770428600280,"lat":723.75,"lng":592.75,"nome":"Contrabando","cor":"#9932cc"},{"id":1770428616547,"lat":677.625,"lng":567.75,"nome":"Contrabando","cor":"#9932cc"},{"id":1770428624453,"lat":656.375,"lng":516.125,"nome":"Contrabando","cor":"#9932cc"},{"id":1770590442889,"lat":187,"lng":534.25,"nome":"Contrabando","cor":"#9932cc"},{"id":1770428658640,"lat":712.5,"lng":629.5,"nome":"Desmanche","cor":"#ff4500"},{"id":1770428676443,"lat":187,"lng":422.375,"nome":"Desmanche","cor":"#ff4500"},{"id":1770429506854,"lat":159.375,"lng":364.25,"nome":"Desmanche","cor":"#ff4500"},{"id":1770430593039,"lat":157.625,"lng":486.125,"nome":"Drogas (Cocaina)","cor":"#32cd32"},{"id":1770430542226,"lat":191.875,"lng":443,"nome":"Drogas (Maconha)","cor":"#32cd32"},{"id":1770430569543,"lat":172.125,"lng":460.875,"nome":"Drogas (Metanfetamina)","cor":"#32cd32"},{"id":1770428642812,"lat":379.375,"lng":211.5,"nome":"Lavagem Publica","cor":"#ffcc00"},{"id":1770530744974,"lat":429.5,"lng":649.75,"nome":"Mudo PortaMalas","cor":"#ffffff"}]
        function atualizarListaLateral() {        
            const container = document.getElementById('itens-container');
            container.innerHTML = '';
            const nomesVistos = new Set();
            
            pontosFixos.sort((a, b) => a.nome.localeCompare(b.nome)).forEach(p => {
                if (!nomesVistos.has(p.nome.toUpperCase())) {
                    nomesVistos.add(p.nome.toUpperCase());
                    const item = document.createElement('div');
                    item.className = 'item-lista';
                    item.style.setProperty('--cor-ponto', p.cor);
                    item.innerHTML = `<div style="width:12px; height:12px; background:${p.cor}; border-radius:50%"></div><span>${p.nome}</span>`;
                    container.appendChild(item);
                }
            });
        }

        function renderizarPonto(p) {
            var iconHtml = `<div style="background:${p.cor}; width:12px; height:12px; border-radius:50%; border:2px solid white; box-shadow: 0 0 5px #000;"></div>`;
            var myIcon = L.divIcon({ html: iconHtml, className: 'custom-div-icon', iconSize: [12, 12] });
            var marker = L.marker([p.lat, p.lng], { icon: myIcon, interactive: false }).addTo(map);
            
            marker.bindTooltip(p.nome, {
                permanent: true,
                direction: 'top',
                className: 'label-custom',
                offset: [0, -10]
            }).openTooltip();
            
            setTimeout(() => {
                const el = marker.getTooltip().getElement();
                if(el) el.style.setProperty('--cor-ponto', p.cor);
            }, 10);
        }

        // Inicializa o mapa com os pontos
        pontosFixos.forEach(p => renderizarPonto(p));
        atualizarListaLateral();
    </script>
</body>

</html>






